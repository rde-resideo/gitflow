name: Build_On_Banch_And_Tag
on:
  push:
    tags:        
      - resideo_*.*
jobs:
  Build:

    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Get branch name
      id: tagbranch
      run: |
         echo "::set-output name=branchname::$(curl -s "$GITHUB_API_URL/repos/$GITHUB_REPOSITORY/commits/$GITHUB_SHA/branches-where-head" | jq '.name' | sed 's/\"//g')"
    - name: confirm release tag
      run: |
        echo ${{ steps.tagbranch.outputs.branchname }}